<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>è‹±è¯­å® ç‰© Â· å®¶åº­ç‰ˆ</title>

<style>
body{
  margin:0;
  font-family:"Comic Sans MS","PingFang SC",sans-serif;
  background:linear-gradient(#cceeff,#ffffff);
  text-align:center;
}
h1{margin:12px}

/* ===== å® ç‰© ===== */
.pet-wrap{position:relative;margin:20px auto;width:220px}
.pet{
  width:200px;height:200px;margin:auto;
  transition:transform .3s;
}
.pet.happy{transform:translateY(-6px)}
.blink{animation:blink 4s infinite}
@keyframes blink{0%,95%,100%{transform:scaleY(1)}96%,99%{transform:scaleY(.1)}}

/* è£…é¥° */
.decorate{
  position:absolute;
  left:50%;transform:translateX(-50%);
  font-size:28px;
}
.hat{top:10px}
.glasses{top:70px}
.food{font-size:26px}

/* ===== å¡ç‰‡ ===== */
.card{
  background:#fff;border-radius:16px;
  padding:16px;width:320px;
  margin:12px auto;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.word{font-size:32px;margin-bottom:10px}
button{
  width:100%;padding:12px;
  margin:6px 0;font-size:16px;
  border:none;border-radius:12px;
  background:#4caf50;color:#fff;
  cursor:pointer;
}
.shop-btn{background:#ff9800}
.back-btn{background:#9e9e9e}
.info{font-size:16px;margin:6px}
.hidden{display:none}
</style>
</head>

<body>

<h1>ğŸ¾ æˆ‘çš„è‹±è¯­å® ç‰©</h1>

<div class="pet-wrap">
  <svg id="pet" class="pet" viewBox="0 0 200 200">
    <circle cx="100" cy="100" r="90" fill="#FFD966"/>
    <ellipse class="blink" cx="65" cy="80" rx="10" ry="14"/>
    <ellipse class="blink" cx="135" cy="80" rx="10" ry="14"/>
    <path d="M70 120 Q100 145 130 120" stroke="#000" stroke-width="6" fill="none"/>
  </svg>
  <div id="hat" class="decorate hat hidden">ğŸ‘’</div>
  <div id="glasses" class="decorate glasses hidden">ğŸ•¶ï¸</div>
</div>

<div class="info" id="statusText"></div>
<div class="info" id="scoreText"></div>

<!-- å­¦ä¹  -->
<div class="card" id="gameCard">
  <div class="word" id="word"></div>
  <button onclick="answer(true)" id="btn1"></button>
  <button onclick="answer(false)" id="btn2"></button>
  <button class="shop-btn" onclick="openShop()">ğŸª å•†åº—</button>
</div>

<!-- å•†åŸ -->
<div class="card hidden" id="shopCard">
  <h3>ğŸª å® ç‰©å•†åº—</h3>
  <button onclick="buyFood('ğŸ')">ğŸ è‹¹æœï¼ˆ1åˆ†ï¼‰</button>
  <button onclick="buyFood('ğŸ—')">ğŸ— é¸¡è…¿ï¼ˆ2åˆ†ï¼‰</button>
  <button onclick="buyHat()">ğŸ‘’ å¸½å­ï¼ˆ5åˆ†ï¼‰</button>
  <button onclick="buyGlasses()">ğŸ•¶ï¸ çœ¼é•œï¼ˆ5åˆ†ï¼‰</button>
  <button class="back-btn" onclick="closeShop()">â¬… è¿”å›</button>
</div>

<script>
/* ===== å…­å¹´çº§è¯åº“ï¼ˆç¤ºä¾‹ï¼Œå¯ç»§ç»­åŠ ï¼‰ ===== */
const words=[
{w:"important",c:"é‡è¦çš„",x:"ä¾¿å®œçš„"},
{w:"careful",c:"å°å¿ƒçš„",x:"ç²—å¿ƒçš„"},
{w:"future",c:"å°†æ¥",x:"è¿‡å»"},
{w:"healthy",c:"å¥åº·çš„",x:"è™šå¼±çš„"},
{w:"practice",c:"ç»ƒä¹ ",x:"å¿˜è®°"},
{w:"different",c:"ä¸åŒçš„",x:"ç›¸åŒçš„"},
{w:"problem",c:"é—®é¢˜",x:"ç­”æ¡ˆ"},
{w:"travel",c:"æ—…è¡Œ",x:"åœç•™"}
];

let state=JSON.parse(localStorage.getItem("petState"))||{
 score:0,mood:"sick",
 hat:false,glasses:false,lastDay:""
};

const today=new Date().toDateString();
if(state.lastDay!==today){
 state.mood="sick";
 state.lastDay=today;
}

function save(){localStorage.setItem("petState",JSON.stringify(state))}

let current;
function loadWord(){
 current=words[Math.floor(Math.random()*words.length)];
 word.innerText=current.w;
 btn1.innerText=current.c;
 btn2.innerText=current.x;
}

function answer(ok){
 if(ok){
  state.score++;
  state.mood="happy";
  loadWord();
 }else{
  state.mood="hungry";
 }
 save();render();
}

/* å•†åŸ */
function openShop(){
 gameCard.classList.add("hidden");
 shopCard.classList.remove("hidden");
}
function closeShop(){
 shopCard.classList.add("hidden");
 gameCard.classList.remove("hidden");
}
function buyFood(f){
 if(state.score<1){alert("ç§¯åˆ†ä¸å¤Ÿ ğŸ˜Š");return;}
 state.score-=1;
 state.mood="happy";
 alert("å® ç‰©åƒäº† "+f);
 save();render();
}
function buyHat(){
 if(state.score<5){alert("ç§¯åˆ†ä¸å¤Ÿ ğŸ˜Š");return;}
 state.score-=5;
 state.hat=true;
 save();render();
}
function buyGlasses(){
 if(state.score<5){alert("ç§¯åˆ†ä¸å¤Ÿ ğŸ˜Š");return;}
 state.score-=5;
 state.glasses=true;
 save();render();
}

function render(){
 scoreText.innerText="ç§¯åˆ†ï¼š"+state.score;
 pet.classList.toggle("happy",state.mood==="happy");
 statusText.innerText=
  state.mood==="happy"?"çŠ¶æ€ï¼šå¼€å¿ƒ ğŸ˜Š":
  state.mood==="hungry"?"çŠ¶æ€ï¼šæœ‰ç‚¹é¥¿ ğŸ˜•":
  "çŠ¶æ€ï¼šä»Šå¤©æœ‰ç‚¹ä¸èˆ’æœ ğŸ¤’";

 hat.classList.toggle("hidden",!state.hat);
 glasses.classList.toggle("hidden",!state.glasses);
}

loadWord();render();save();
</script>

</body>
</html>
